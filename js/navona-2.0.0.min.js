/*!
 * 2020.03.02
 * navonajs 1.0.1 (http://philipi.bovo.me/navonajs)
 * By Philipi Bovo
 */
let resizeNavona,speedNavona,navonaLandscapeIcon="";document.addEventListener("DOMContentLoaded",function(){verifyIDs().then(e=>{const t=document.getElementsByClassName("navona");for(let e=0;e<t.length;e++){const a=t[e].children;if(t[e].getAttribute("data-navona-click"))for(let n=0;n<a.length;n++)a[n].addEventListener("click",function(a){const n=t[e].children;for(let e=0;e<n.length;e++)n[e].classList.remove("active");"img"!==a.target.tagName.toLowerCase()&&"p"!==a.target.tagName.toLowerCase()||(a.target.parentElement.classList.add("active"),navonaSetSizes(a.target.parentElement.parentElement.getAttribute("id"))),"div"===a.target.tagName.toLowerCase()&&(a.target.classList.add("active"),navonaSetSizes(a.target.parentElement.getAttribute("id")))});else for(let n=0;n<a.length;n++)a[n].addEventListener("mouseover",function(a){const n=t[e].children;for(let e=0;e<n.length;e++)n[e].classList.remove("active");"img"!==a.target.tagName.toLowerCase()&&"p"!==a.target.tagName.toLowerCase()||(a.target.parentElement.classList.add("active"),navonaSetSizes(a.target.parentElement.parentElement.getAttribute("id"))),"div"===a.target.tagName.toLowerCase()&&(a.target.classList.add("active"),navonaSetSizes(a.target.parentElement.getAttribute("id")))});if(t[e].getAttribute("data-navona-theme"))if(7===t[e].getAttribute("data-navona-theme").length){const a=`background: ${t[e].getAttribute("data-navona-theme")}b3`;t[e].style.cssText=a}else t[e].style.cssText="background: #000000b3",console.error(`The "${t[e].getAttribute("data-navona-theme")}" value is not valid for "data-navona-speed". Only  hexadecimal colors accepted, example: "#FFFFFF. Set default value, #000000`);else t[e].style.cssText="background: #000000b3";t[e].getAttribute("data-navona-speed")?isNaN(t[e].getAttribute("data-navona-speed"))?(speedNavona=700,console.error(`navonajs error: The "${t[e].getAttribute("data-navona-speed")}" value is not valid for "data-navona-speed". Only whole numbers accepted. Set default value, 700ms`)):speedNavona=parseInt(t[e].getAttribute("data-navona-speed")):speedNavona=700}const a=document.querySelectorAll(".navona-auto-start");if(a.length){if(a.length>1)return void console.error('navonajs error: You have the class "navona-auto-start" in one more element. Place the class "navona-auto-start" only in the <body> tag');if(a[0].getAttribute("data-navona-start")){if(!document.getElementById(a[0].getAttribute("data-navona-start")))return void console.error('navonajs error: The gallery with ID "document.getElementById(autoStart[0].getAttribute("data-navona-start")" was not found');navonaSetSizes(document.querySelector("body").getAttribute("data-navona-start"))}else{if(document.querySelectorAll(".navona").length>1)return void console.error('navonajs error: When using the "navona-auto-start" class in your <body> tag, you need to place the "data-navona-start" attribute with the target gallery ID, example: data-navona-start="id-my-gallery"');document.querySelector("body").setAttribute("data-navona-start","navona-auto-id-0"),navonaSetSizes("navona-auto-id-0")}}});const e=document.getElementsByClassName("navona-go");if(e.length)for(let t=0;t<e.length;t++)e[t].addEventListener("click",function(e){navonaSetSizes(e.target.getAttribute("for"))})}),document.onkeydown=function(e){"Escape"!==e.key&&"Esc"!==e.key||document.querySelector(".navona.show")&&closeNavonaGallery(document.querySelector(".navona.show").getAttribute("id"))},window.addEventListener("resize",function(){clearTimeout(resizeNavona),resizeNavona=setTimeout(()=>{navonaSetSizes(document.querySelector(".navona.show").getAttribute("id"))},100)}),verifyIDs=(()=>{const e=document.querySelectorAll(".navona");for(let t=0;t<e.length;t++)e[t].getAttribute("id")||e[t].setAttribute("id",`navona-auto-id-${t}`);return Promise.resolve(!0)}),navonaCalculateItemsSize=(e=>{const t=document.getElementById(e).children;let a,n,o;for(let e=0;e<t.length;e++)if(t[e].classList.contains("message-portrait"))t[e].classList.add("hide");else{switch(t[e].classList.remove("hide"),o=document.getElementsByClassName("message-portrait").length?2:1,t.length){case 1:n=1,multiplierSmall=1;break;case 2:n=.9,multiplierSmall=.1;break;case 3:n=.8,multiplierSmall=.2;break;default:n=.7,multiplierSmall=.3}const s=parseInt((window.innerWidth-60)*n),r=parseInt((window.innerWidth-60)*multiplierSmall/(t.length-o));if(t[e].classList.contains("active")?(t[e].style.width=s+"px",t[e].style.textAlign="center"):(t[e].style.width=r+"px",t[e].style.textAlign="left"),t[e].hasChildNodes("p")){a=t[e].children;for(let n=0;n<a.length;n++)"img"===a[n].tagName.toLowerCase()&&(a[n].style.height="100%",a[n].style.widht="100%"),"p"==a[n].tagName.toLowerCase()&&(t[e].classList.contains("active")?a[n].style.width=s+"px":a[n].style.width=r+"px")}}}),navonaCreatePortraitMessage=(e=>{const t=document.getElementById(e).children;let a=!1;for(let e=0;e<t.length;e++)t[e].classList.contains("message-portrait")?(t[e].classList.remove("hide"),a=!0):t[e].classList.add("hide");if(!a){let t=document.createElement("DIV");t.classList.add("message-portrait");let a=document.createElement("DIV"),n=document.createElement("IMG");navonaLandscapeIcon?n.setAttribute("src",navonaLandscapeIcon):n.setAttribute("src","img/landscape.png"),a.appendChild(n),t.appendChild(a),document.getElementById(e).appendChild(t)}}),navonaSetSizes=(e=>{const t=document.getElementById(e);let a=!0;for(let e=0;e<t.children.length;e++)t.children[e].classList.contains("active")&&(a=!1);if(a&&t.children[0].classList.add("active"),window.innerHeight>window.innerWidth?"true"===t.getAttribute("data-navona-portrait")?navonaCalculateItemsSize(e):navonaCreatePortraitMessage(e):navonaCalculateItemsSize(e),!document.getElementById(e).classList.contains("show")){let t=document.createElement("DIV");t.classList.add("navona-close-button"),t.setAttribute("onclick",`closeNavonaGallery("${e}")`),t.innerHTML="x",document.getElementById(e).parentElement.appendChild(t),document.getElementById(e).classList.add("show"),document.querySelector("body").classList.add("navona-hidden-scroll"),FX.fadeIn(document.getElementById(e),{duration:speedNavona,complete:function(){}})}}),closeNavonaGallery=(e=>{const t=document.getElementsByClassName("navona-close-button");FX.fadeOut(t[0],{duration:speedNavona,complete:function(){t[0].parentNode.removeChild(t[0])}}),FX.fadeOut(document.getElementById(e),{duration:speedNavona,complete:function(){document.querySelector("body").classList.remove("navona-hidden-scroll"),document.getElementById(e).classList.remove("show")}})}),function(){let e={easing:{linear:function(e){return e},quadratic:function(e){return Math.pow(e,2)},swing:function(e){return.5-Math.cos(e*Math.PI)/2},circ:function(e){return 1-Math.sin(Math.acos(e))},back:function(e,t){return Math.pow(e,2)*((t+1)*e-t)},bounce:function(e){for(var t=0,a=1;;t+=a,a/=2)if(e>=(7-4*t)/11)return-Math.pow((11-6*t-11*e)/4,2)+Math.pow(a,2)},elastic:function(e,t){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}},animate:function(e){let t=new Date,a=setInterval(function(){let n=(new Date-t)/e.duration;n>1&&(n=1),e.progress=n;let o=e.delta(n);e.step(o),1==n&&(clearInterval(a),e.complete())},e.delay||10)},fadeOut:function(t,a){this.animate({duration:a.duration,delta:function(t){return t=this.progress,e.easing.swing(t)},complete:a.complete,step:function(e){t.style.opacity=1-e}})},fadeIn:function(t,a){this.animate({duration:a.duration,delta:function(t){return t=this.progress,e.easing.swing(t)},complete:a.complete,step:function(e){t.style.opacity=0+e}})}};window.FX=e}();